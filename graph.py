import networkx as nx
import matplotlib.pyplot as plt

# Створюємо граф
G = nx.DiGraph()

# Додаємо ребра з пропускною здатністю
edges = [
    ("Терминал 1", "Склад 1", 25),
    ("Терминал 1", "Склад 2", 20),
    ("Терминал 1", "Склад 3", 15),
    ("Терминал 2", "Склад 2", 10),
    ("Терминал 2", "Склад 3", 15),
    ("Терминал 2", "Склад 4", 30),
    ("Склад 1", "Магазин 1", 15),
    ("Склад 1", "Магазин 2", 10),
    ("Склад 1", "Магазин 3", 20),
    ("Склад 2", "Магазин 4", 15),
    ("Склад 2", "Магазин 5", 10),
    ("Склад 2", "Магазин 6", 25),
    ("Склад 3", "Магазин 7", 20),
    ("Склад 3", "Магазин 8", 15),
    ("Склад 3", "Магазин 9", 10),
    ("Склад 4", "Магазин 10", 20),
    ("Склад 4", "Магазин 11", 10),
    ("Склад 4", "Магазин 12", 15),
    ("Склад 4", "Магазин 13", 5),
    ("Склад 4", "Магазин 14", 10),
]

# Додаємо всі ребра до графа
G.add_weighted_edges_from(edges)

# Позиції для малювання графа
pos = {
    "Терминал 1": (0, 0),
    "Терминал 2": (7, 0),
    "Склад 1": (1, 1),
    "Склад 2": (5, 1),
    "Склад 3": (1, -1),
    "Склад 4": (5, -1),
    "Магазин 1": (-1, 3),
    "Магазин 2": (0, 3),
    "Магазин 3": (1, 3),
    "Магазин 4": (3, 3),
    "Магазин 5": (4, 3),
    "Магазин 6": (5, 3),
    "Магазин 7": (-1, -3),
    "Магазин 8": (0, -3),
    "Магазин 9": (1, -3),
    "Магазин 10": (4, -3),
    "Магазин 11": (5, -3),
    "Магазин 12": (6, -3),
    "Магазин 13": (7, -3),
    "Магазин 14": (8, -3),
}

# Малюємо граф
plt.figure(figsize=(10, 6))
nx.draw(G, pos, with_labels=True, node_size=2000, node_color="skyblue", font_size=8, font_weight="bold", arrows=True)
labels = nx.get_edge_attributes(G, 'weight')
nx.draw_networkx_edge_labels(G, pos, edge_labels=labels)

# Відображаємо граф
plt.show()
